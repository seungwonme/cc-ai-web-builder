# ğŸš€ AI ì›¹ ë¹Œë” êµ¬í˜„ ê³„íš

## ğŸ“‹ **ì „ì²´ í”Œë¡œìš°**

```
ì‚¬ìš©ì ì±„íŒ… â†’ Next.js ì„œë²„ â†’ `create-next-app` ì‹¤í–‰ â†’ í”„ë¡œì íŠ¸ ìƒì„± â†’ ì½”ë“œ ì‘ì„± â†’ `pnpm run dev` ì‹¤í–‰ â†’ í¬íŠ¸ ë°˜í™˜ â†’ í”„ë¦¬ë·° ì œê³µ
```

---

## ğŸ—ï¸ **1ë‹¨ê³„: í”„ë¡œì íŠ¸ ê¸°ë³¸ ì„¤ì •**

### **ì˜ì¡´ì„± ì„¤ì¹˜**

```bash
# í•„ìˆ˜ íŒ¨í‚¤ì§€
pnpm add uuid fs-extra tree-kill
pnpm add @types/uuid -D

# UI ì»´í¬ë„ŒíŠ¸
pnpm add @radix-ui/react-dialog @radix-ui/react-button @radix-ui/react-textarea
pnpm add lucide-react

# ì‹¤ì‹œê°„ í†µì‹ 
pnpm add socket.io socket.io-client
```

### **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**

```bash
# .env.local
SESSIONS_DIR=./sessions
MAX_CONCURRENT_PROJECTS=5
PROJECT_TIMEOUT=30000
```

---

## ğŸ—‚ï¸ **2ë‹¨ê³„: ë””ë ‰í† ë¦¬ êµ¬ì¡°**

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ page.tsx                    # ë©”ì¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ chat/route.ts          # ì±„íŒ… API
â”‚   â”‚   â”œâ”€â”€ generate/route.ts      # í”„ë¡œì íŠ¸ ìƒì„± API
â”‚   â”‚   â””â”€â”€ preview/route.ts       # í”„ë¦¬ë·° ìƒíƒœ API
â”‚   â””â”€â”€ sessions/[sessionId]/
â”‚       â””â”€â”€ proxy/[...slug]/page.tsx # í”„ë¦¬ë·° í”„ë¡ì‹œ
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”œâ”€â”€ chat-interface.tsx
â”‚   â”‚   â”œâ”€â”€ message-list.tsx
â”‚   â”‚   â””â”€â”€ message-input.tsx
â”‚   â”œâ”€â”€ preview/
â”‚   â”‚   â”œâ”€â”€ preview-panel.tsx
â”‚   â”‚   â””â”€â”€ loading-spinner.tsx
â”‚   â””â”€â”€ layout/
â”‚       â””â”€â”€ main-layout.tsx
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ session-manager.ts          # ì„¸ì…˜ ê´€ë¦¬
â”‚   â”œâ”€â”€ project-generator.ts        # í”„ë¡œì íŠ¸ ìƒì„±
â”‚   â”œâ”€â”€ port-manager.ts             # í¬íŠ¸ ê´€ë¦¬
â”‚   â””â”€â”€ claude-code-executor.ts     # Claude Code ì‹¤í–‰
â”œâ”€â”€ types/
â”‚   â””â”€â”€ index.ts
â””â”€â”€ sessions/                       # ìƒì„±ëœ í”„ë¡œì íŠ¸ë“¤
    â”œâ”€â”€ {sessionId-1}/
    â”œâ”€â”€ {sessionId-2}/
    â””â”€â”€ ...
```

---

## ğŸ”§ **3ë‹¨ê³„: í•µì‹¬ ì‹œìŠ¤í…œ êµ¬í˜„**

### **3-1: ì„¸ì…˜ ê´€ë¦¬ ì‹œìŠ¤í…œ**

```typescript
// lib/session-manager.ts
class SessionManager {
  // ì„¸ì…˜ ìƒì„±
  createSession(): string;

  // ì„¸ì…˜ ì •ë³´ ì¡°íšŒ
  getSession(sessionId: string): SessionInfo;

  // ì„¸ì…˜ ì‚­ì œ
  deleteSession(sessionId: string): void;

  // ëª¨ë“  ì„¸ì…˜ ì •ë¦¬
  cleanupSessions(): void;
}
```

### **3-2: í”„ë¡œì íŠ¸ ìƒì„± ì‹œìŠ¤í…œ**

```typescript
// lib/project-generator.ts
class ProjectGenerator {
  // Next.js í”„ë¡œì íŠ¸ ìƒì„±
  async createNextJsProject(sessionId: string): Promise<boolean>;

  // í”„ë¡¬í”„íŠ¸ ê¸°ë°˜ ì½”ë“œ ìƒì„±
  async generateCode(sessionId: string, prompt: string): Promise<boolean>;

  // ê°œë°œ ì„œë²„ ì‹¤í–‰
  async startDevServer(sessionId: string): Promise<number>;

  // ì„œë²„ ì¤‘ì§€
  async stopDevServer(sessionId: string): Promise<void>;
}
```

### **3-3: í¬íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œ**

```typescript
// lib/port-manager.ts
class PortManager {
  // ì‚¬ìš© ê°€ëŠ¥í•œ í¬íŠ¸ ì°¾ê¸°
  async findAvailablePort(start: number = 3001): Promise<number>;

  // í¬íŠ¸ ì˜ˆì•½
  reservePort(port: number, sessionId: string): void;

  // í¬íŠ¸ í•´ì œ
  releasePort(port: number): void;

  // ì„¸ì…˜ì˜ í¬íŠ¸ ì¡°íšŒ
  getPortBySession(sessionId: string): number | null;
}
```

---

## ğŸ¨ **4ë‹¨ê³„: UI ì»´í¬ë„ŒíŠ¸ êµ¬í˜„**

### **4-1: ì±„íŒ… ì¸í„°í˜ì´ìŠ¤**

- **ë©”ì‹œì§€ íƒ€ì…**: ì‚¬ìš©ì ë©”ì‹œì§€, ì‹œìŠ¤í…œ ë©”ì‹œì§€, ì—ëŸ¬ ë©”ì‹œì§€
- **ìƒíƒœ í‘œì‹œ**: ìƒì„± ì¤‘, ì™„ë£Œ, ì‹¤íŒ¨
- **ë©”ì‹œì§€ ê¸°ëŠ¥**: í…ìŠ¤íŠ¸ ì…ë ¥, ì „ì†¡, íˆìŠ¤í† ë¦¬

### **4-2: í”„ë¦¬ë·° íŒ¨ë„**

- **ìƒíƒœë³„ UI**: ë¡œë”©, ì¤€ë¹„ ì™„ë£Œ, ì—ëŸ¬, í”„ë¦¬ë·° í‘œì‹œ
- **iframe í†µí•©**: ìƒì„±ëœ ì›¹ì‚¬ì´íŠ¸ í‘œì‹œ
- **ìƒˆë¡œê³ ì¹¨ ê¸°ëŠ¥**: ë³€ê²½ì‚¬í•­ ë°˜ì˜

### **4-3: ë©”ì¸ ë ˆì´ì•„ì›ƒ**

- **ë°˜ì‘í˜• ë””ìì¸**: ë°ìŠ¤í¬í†±/ëª¨ë°”ì¼ ëŒ€ì‘
- **ë¶„í•  í™”ë©´**: ì¢Œì¸¡ 40% ì±„íŒ…, ìš°ì¸¡ 60% í”„ë¦¬ë·°
- **ìƒíƒœ ë°”**: í˜„ì¬ ì„¸ì…˜ ìƒíƒœ í‘œì‹œ

---

## ğŸ”„ **5ë‹¨ê³„: API ë¼ìš°íŠ¸ êµ¬í˜„**

### **5-1: ì±„íŒ… API**

```typescript
// app/api/chat/route.ts
POST /api/chat
- ì‚¬ìš©ì ë©”ì‹œì§€ ìˆ˜ì‹ 
- í”„ë¡œì íŠ¸ ìƒì„± ìš”ì²­ ì²˜ë¦¬
- ì‹¤ì‹œê°„ ì‘ë‹µ ìŠ¤íŠ¸ë¦¬ë°
```

### **5-2: ìƒì„± API**

```typescript
// app/api/generate/route.ts
POST /api/generate
- create-next-app ëª…ë ¹ì–´ ì‹¤í–‰
- Claude Codeë¡œ ì½”ë“œ ìƒì„±
- pnpm run dev ì‹¤í–‰
- í¬íŠ¸ ë²ˆí˜¸ ë°˜í™˜
```

### **5-3: í”„ë¦¬ë·° API**

```typescript
// app/api/preview/route.ts
GET /api/preview/:sessionId
- í”„ë¡œì íŠ¸ ìƒíƒœ ì¡°íšŒ
- ê°œë°œ ì„œë²„ ìƒíƒœ í™•ì¸
- í”„ë¦¬ë·° URL ë°˜í™˜
```

---

## âš¡ **6ë‹¨ê³„: ì‹¤ì‹œê°„ í†µì‹  êµ¬í˜„**

### **6-1: WebSocket ì´ë²¤íŠ¸**

```typescript
// í´ë¼ì´ì–¸íŠ¸ â†’ ì„œë²„
- 'generate_request': í”„ë¡œì íŠ¸ ìƒì„± ìš”ì²­
- 'message_send': ì±„íŒ… ë©”ì‹œì§€ ì „ì†¡

// ì„œë²„ â†’ í´ë¼ì´ì–¸íŠ¸
- 'generation_status': ìƒì„± ì§„í–‰ ìƒíƒœ
- 'preview_ready': í”„ë¦¬ë·° ì¤€ë¹„ ì™„ë£Œ
- 'error': ì—ëŸ¬ ë°œìƒ
```

### **6-2: Server-Sent Events (ëŒ€ì•ˆ)**

```typescript
// ì‹¤ì‹œê°„ ìƒíƒœ ì—…ë°ì´íŠ¸
- í”„ë¡œì íŠ¸ ìƒì„± ì§„í–‰ë¥ 
- ê°œë°œ ì„œë²„ ì‹œì‘ ìƒíƒœ
- ì—ëŸ¬ ë©”ì‹œì§€
```

---

## ğŸ› ï¸ **7ë‹¨ê³„: ëª…ë ¹ì–´ ì‹¤í–‰ ì‹œìŠ¤í…œ**

### **7-1: í”„ë¡œì íŠ¸ ìƒì„± ëª…ë ¹ì–´**

```bash
# ì„¸ì…˜ í´ë”ë¡œ ì´ë™
cd sessions/{sessionId}

# Next.js í”„ë¡œì íŠ¸ ìƒì„±
pnpm dlx create-next-app@15 --ts --eslint --tailwind --src-dir --app --turbopack --use-pnpm --yes project

# í”„ë¡œì íŠ¸ í´ë”ë¡œ ì´ë™
cd project
```

### **7-2: ì½”ë“œ ìƒì„± ë° ì‹¤í–‰**

```bash
# Claude Codeë¡œ ì½”ë“œ ìƒì„± (í”„ë¡¬í”„íŠ¸ ê¸°ë°˜)
# íŒŒì¼ ì§ì ‘ ìƒì„± ë˜ëŠ” AI ë„êµ¬ ì—°ë™

# ê°œë°œ ì„œë²„ ì‹¤í–‰
pnpm run dev
```

### **7-3: í¬íŠ¸ ë° í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬**

```typescript
// í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬
- spawnìœ¼ë¡œ ëª…ë ¹ì–´ ì‹¤í–‰
- PID ì €ì¥ ë° ê´€ë¦¬
- í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ ì²˜ë¦¬
- í¬íŠ¸ ì¶©ëŒ ë°©ì§€
```

---

## ğŸ”’ **8ë‹¨ê³„: ì—ëŸ¬ ì²˜ë¦¬ ë° ì •ë¦¬**

### **8-1: ì—ëŸ¬ ì²˜ë¦¬**

- **ëª…ë ¹ì–´ ì‹¤í–‰ ì‹¤íŒ¨**: ì¬ì‹œë„ ë¡œì§
- **í¬íŠ¸ ì¶©ëŒ**: ë‹¤ë¥¸ í¬íŠ¸ í• ë‹¹
- **ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ**: ìë™ ì •ë¦¬
- **ë¦¬ì†ŒìŠ¤ ë¶€ì¡±**: ìµœëŒ€ ë™ì‹œ í”„ë¡œì íŠ¸ ìˆ˜ ì œí•œ

### **8-2: ë¦¬ì†ŒìŠ¤ ì •ë¦¬**

- **ì„¸ì…˜ ë§Œë£Œ**: 30ë¶„ í›„ ìë™ ì‚­ì œ
- **í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ**: ê°œë°œ ì„œë²„ ì •ë¦¬
- **í´ë” ì‚­ì œ**: ì„ì‹œ íŒŒì¼ ì •ë¦¬
- **í¬íŠ¸ í•´ì œ**: í¬íŠ¸ ê´€ë¦¬ì ì—…ë°ì´íŠ¸

---

## ğŸ“ **9ë‹¨ê³„: ì¶”ê°€ ê¸°ëŠ¥**

### **9-1: í”„ë¡œì íŠ¸ ê´€ë¦¬**

- **í”„ë¡œì íŠ¸ ëª©ë¡**: ì‚¬ìš©ìë³„ í”„ë¡œì íŠ¸ íˆìŠ¤í† ë¦¬
- **í”„ë¡œì íŠ¸ ë³µì œ**: ê¸°ì¡´ í”„ë¡œì íŠ¸ ë³µì‚¬
- **í”„ë¡œì íŠ¸ ë‚´ë³´ë‚´ê¸°**: ZIP íŒŒì¼ ë‹¤ìš´ë¡œë“œ

### **9-2: ê°œë°œ í¸ì˜ì„±**

- **ì½”ë“œ ì—ë””í„°**: Monaco Editor í†µí•©
- **íŒŒì¼ íƒìƒ‰ê¸°**: ìƒì„±ëœ íŒŒì¼ êµ¬ì¡° ë³´ê¸°
- **ë¡œê·¸ ë·°ì–´**: ê°œë°œ ì„œë²„ ë¡œê·¸ í‘œì‹œ

---

## ğŸ¯ **êµ¬í˜„ ìš°ì„ ìˆœìœ„**

1. **ê¸°ë³¸ ì„¸ì…˜ ê´€ë¦¬** (1-2ì‹œê°„)
2. **í”„ë¡œì íŠ¸ ìƒì„± ì‹œìŠ¤í…œ** (2-3ì‹œê°„)
3. **í¬íŠ¸ ê´€ë¦¬ ë° ê°œë°œ ì„œë²„** (1-2ì‹œê°„)
4. **ì±„íŒ… ë° í”„ë¦¬ë·° UI** (2-3ì‹œê°„)
5. **API ë¼ìš°íŠ¸ ì—°ê²°** (1-2ì‹œê°„)
6. **ì‹¤ì‹œê°„ í†µì‹ ** (1-2ì‹œê°„)
7. **ì—ëŸ¬ ì²˜ë¦¬ ë° ì •ë¦¬** (1ì‹œê°„)

**ì´ ì˜ˆìƒ ì‹œê°„: 9-15ì‹œê°„**
